<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MPack: Feature Comparisons</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-mpack-css.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MPack<span id="projectnumber">&#160;1.1.1</span>
   </div>
   <div id="projectbrief">A C encoding/decoding library for the MessagePack serialization format.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Feature Comparisons </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >This document compares the features of various C libraries for encoding and decoding MessagePack. (It attempts to be neutral, but you may find it biased towards MPack since it is part of this project.)</p>
<p >Feedback is welcome! Please let me know if any entries in the table are incorrect, or if there are any killer features from other parsers that are missing in this list.</p>
<h1><a class="anchor" id="autotoc_md21"></a>
Feature Matrix</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft"></th><th class="markdownTableHeadCenter"><a href="https://github.com/ludocode/mpack">MPack</a><br  />
(v1.1)   </th><th class="markdownTableHeadCenter"><a href="https://github.com/msgpack/msgpack-c">msgpack-c</a><br  />
(v3.3.0)   </th><th class="markdownTableHeadCenter"><a href="https://github.com/camgunz/cmp">CMP</a><br  />
(v19)   </th><th class="markdownTableHeadCenter"><a href="https://github.com/clwi/CWPack">CWPack</a><br  />
(v1.3.1)    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">No libc requirement   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter">✓    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">No allocator requirement   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter">✓    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Growable memory writer   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter">✓    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">File I/O helpers   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter">✓    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Tree parser   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Stateful error handling   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter">✓    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Descriptive error information   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Compound size tracking   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Automatic compound size   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Incremental parser   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter">✓    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Typed read helpers   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Range/match read helpers   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Asynchronous incremental parser   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Peek next element   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Tree stream parser   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Asynchronous tree stream parser   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Support for new (2.0) spec   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter">✓    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Compatible with older (1.0) spec   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter">✓    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">UTF-8 verification   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Type-generic write helpers   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Timestamps   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter">✓   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td></tr>
</table>
<p >Most of the features above are optional when supported and can be configured in all libraries. In particular, UTF-8 verification is optional with MPack; compound size tracking is optional and disabled in release by default with MPack; and 1.0 (v4) spec compatibility is optional in all libraries (v5/2.0 is the recommended and default usage.)</p>
<h1><a class="anchor" id="autotoc_md22"></a>
Glossary</h1>
<p ><em>Tree parsing</em> means parsing a MessagePack object into a DOM-style tree of dynamically-typed elements supporting random access.</p>
<p ><em>Incremental parsing</em> means being able to parse one basic MessagePack element at a time (either imperatively or with a SAX-style callback) with no per-element memory usage.</p>
<p ><em>Stateful error handling</em> means a parse error or type error on one element places the whole parser, encoder or tree in an error state. This means you can check for errors only at certain key points rather than at every interaction with the library, and you get a final error state indicating whether any error occurred at any point during parsing or encoding.</p>
<p ><em>Descriptive error information</em> means being able to get additional information when an error occurs, such as the tree position and byte position in the message where the error occurred.</p>
<p ><em>Compound size tracking</em> means verifying that the same number of child elements or bytes were written or read as was declared at the start of a compound element.</p>
<p ><em>Automatic compound size</em> means not having to specify the number of elements or bytes in an element up-front, instead determining it automatically when the element is closed.</p>
<p ><em>Typed read helpers</em> means helper functions for a parser that can check the expected type of an element and return its value in that type. For example <code>cmp_read_int()</code> in CMP or <code><a class="el" href="group__expect.html#gaccb728859e5944214324a23979fe0aa2" title="Reads a 32-bit unsigned integer.">mpack_expect_u32()</a></code> in MPack.</p>
<p ><em>Range/match read helpers</em> means helper functions for a parser that can check not only the expected type of an element, but also enforce an allowed range or exact match on a given value.</p>
<p ><em>Peeking the next element</em> means being able to view the next element during incremental parsing without popping it from the data buffer.</p>
<p ><em>Tree stream parsing</em> means the ability to parse a continuous stream of MessagePack with no external delimitation, emitting complete objects with a DOM-style tree API as they are found. The parser must be able to pause if the data is incomplete and continue parsing later when more data is available. This is necessary for implementing RPC over a socket with a tree parser (without needing to delimit messages by size.)</p>
<p ><em>Asynchronous</em> means the parser is cooperative and re-entrant; when not enough data is available, it will return out of the parser with a "continue later" result rather than failing or blocking the read. There are two asynchronous entries in the above table, one for incremental parsing and one for tree parsing.</p>
<p ><em>Compatible with older (1.0) spec</em> means the ability to produce messages compatible with parsers that only understand the old v4/1.0 version of MessagePack. A backwards-compatible encoder must at a minimum support writing an old-style raw without "str8", since there was no "raw8" type in old MessagePack.</p>
<p ><em>Type-generic write helpers</em> means a generic write function or macro that can serialize based on the static type of the argument, in at least one of C11 or C++. (The reference <a href="https://github.com/msgpack/msgpack-c">msgpack-c</a> currently supports this only in C++ mode. MPack supports this both in C++ with templates and in C11 with <code>_Generic</code>.) </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
